#@ load("@ytt:overlay", "overlay")
#@ load("@ytt:data", "data")

#@ def redis():
metadata:
  labels:
    app: redis
#@ end

#! overlay.subset() also accepts YAML fragments
#@overlay/match by=overlay.subset(redis()), expects="0+"
---
metadata:
  #@overlay/match missing_ok=True
  namespace: #@ data.values.namespace.name
